## python三种保留两位小数方法汇总

- ## 解决问题思路：先分解思路，再分步实现代码

- ```
  #猜数字
  import random
  answer = random.randint(1,100)
  prompt = '你猜？'	#用prompt作为提示词容器
  while True:
  	guess = input(prompt)
  	guessNum = int(guess)
    	if answer > x:
  		prompt = "低了"
  	elif answer < x:
  		prompt = "高了"
  	else:
  		print('恭喜你！')
  		break
  ```

- while 1死循环+break

- ### ’%.2f’%f

  该方法会进行四舍五入

  ```
  f = 2.3456789
  
  print('%.2f'%f)
  print('%.3f'%f)
  print('%.4f'%f)
  ```

  结果：2.35，2.346，2.3457

- ### format函数

  该方法会进行四舍五入

  ```
  f = 2.3456789
  
  print('{:.2f}'.format(f))
  print('{:.3f}'.format(f))
  print('{:.4f}'.format(f))
  ```

  结果：2.35，2.346，2.3457

- round函数（不推荐）

  该方法会”四舍六入五凑偶“

  ```
  print(round(2.25,1))
  print(round(2.35,1))
  print(round(2.125,2))
  print(round(2.875,2))
  ```

  输出：2.2, 2.4, 2.12, 2.88

  但：

  ```
  print(round(2.335,2))
  print(round(2.225,2))
  ```

  结果为：2.33 与2.23

  这里就与我们的结论不一致，原因是在机器中浮点数不一定被精确的表达，在转换成01后可能为无限位，机器会进行截断处理，所以会和浮点数的精确值有一定的出入，从而达不到我们预期的目标

  #### 字符串转换为数字：

  chr()< = >ord()

  chr(97) = a	#ASCII码

  chr(122) = z

  ord('z') - ord('a') = 25

  可以利用这个来随机生成字母。

  ### 定义函数后，需要打出函数实现调用程序

  e.g

  具体要求如下：

  定义一个函数，要求实现圆的面积的计算；
  根据输入的不同整数值的半径，调用函数计算，并输出圆的面积，结果保留两位小数。

  ```
  # coding=utf-8
  
  from math import pi as PI
  
  n = int(input())
  
  # 请在此添加代码，实现圆的面积计算，并输出面积结果
  ########## Begin ##########
  def S(n):				#定义函数，不代表运行
      S = PI * (n * n)
      print('%.2f'%S)		#保留两位小数
  S(n)					#调用函数才运行
  
  ########## End ##########
  ```

  不调用函数的话，可以作为模块里的函数，方便其他程序使用。

  **!=**  是**不等于**的意思，**判断一个数是否能被开方出整数，一般使用开方后的数乘以开方的次数验证其是否等于其原来的数**。

  **%n== ** 是对n取余的意思，可以将n=2，就可以判断是否为偶数。

  ### **生成器表达式的标准格式**

  "**算-循环-滤**" 三步走：

  1. **算**：写处理表达式（如 `x**2`）
  2. **循环**：加 `for ... in ...`
  3. **滤**（可选）：加 `if` 条件

  ```
  (expression for item in iterable if condition)
  ```

  | 部分                   | 作用                                                      | 是否可选 |
  | :--------------------- | :-------------------------------------------------------- | :------- |
  | `expression`           | 对当前元素的处理或计算表达式（如 `num % gcd == 0`）       | **必选** |
  | `for item in iterable` | 循环遍历可迭代对象（如 `for num in numbers`）             | **必选** |
  | `if condition`         | 过滤条件，只有满足条件的元素才会被处理（如 `if num > 0`） | 可选     |
  | 圆括号 `()`            | 定义生成器表达式的边界（与列表推导式的 `[]` 不同）        | **必选** |

- ### 纯生成器模式

  ```
  # 生成数字的平方
  squares = (x**2 for x in range(5))  # → 生成器对象
  print(list(squares))  # 输出 [0, 1, 4, 9, 16]
  ```

  

- ### 带过滤条件

  ```
  # 只生成偶数的平方
  even_squares = (x**2 for x in range(10) if x % 2 == 0)
  print(list(even_squares))  # 输出 [0, 4, 16, 36, 64]
  ```

  

- ### 多循环嵌套

  ```
  # 生成笛卡尔积
  pairs = ((x, y) for x in ['A', 'B'] for y in [1, 2])
  print(list(pairs))  # 输出 [('A',1), ('A',2), ('B',1), ('B',2)]
  ```

  

### 💡 **与列表推导式的区别**

| 特性         | 生成器表达式               | 列表推导式                     |
| :----------- | :------------------------- | :----------------------------- |
| **语法符号** | 圆括号 `()`                | 方括号 `[]`                    |
| **内存占用** | 惰性计算，**几乎不占内存** | 立即生成完整列表，**占用内存** |
| **适用场景** | 大数据流处理或链式操作     | 需要多次访问的小数据集         |

 经典使用场景：与聚合函数结合；可省去中间变量；文件流处理（e.g.统计大文件中非空行数）
